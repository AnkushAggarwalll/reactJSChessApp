(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],[,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){"use strict";i.r(t);var s=i(1),n=i.n(s),a=i(4),o=i.n(a),p=(i(11),i(12),i(2)),c=(i(13),i(14),i(0));function y(e){return e.number%2==0?Object(c.jsx)("div",{className:"tile black-tile",children:e.image&&Object(c.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")},className:"chess-piece"})}):Object(c.jsx)("div",{className:"tile white-tile",children:e.image&&Object(c.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")},className:"chess-piece"})})}var l=i(5),r=i(6),u=["1","2","3","4","5","6","7","8"],m=["a","b","c","d","e","f","g","h"],x=100;function g(e,t){return e.x===t.x&&e.y===t.y}var f=[{image:"assets/black_castle.png",position:{x:0,y:7},type:"CASTLE",team:"OPPONENT"},{image:"assets/black_knight.png",position:{x:3,y:3},type:"KNIGHT",team:"OPPONENT"},{image:"assets/black_bishop.png",position:{x:2,y:7},type:"BISHOP",team:"OPPONENT"},{image:"assets/black_queen.png",position:{x:3,y:7},type:"QUEEN",team:"OPPONENT"},{image:"assets/black_king.png",position:{x:4,y:7},type:"KING",team:"OPPONENT"},{image:"assets/black_bishop.png",position:{x:5,y:7},type:"BISHOP",team:"OPPONENT"},{image:"assets/black_knight.png",position:{x:6,y:7},type:"KNIGHT",team:"OPPONENT"},{image:"assets/black_castle.png",position:{x:7,y:7},type:"CASTLE",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:0,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:1,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:2,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:3,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:4,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:5,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:6,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:7,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/white_castle.png",position:{x:0,y:0},type:"CASTLE",team:"HOME"},{image:"assets/white_knight.png",position:{x:1,y:0},type:"KNIGHT",team:"HOME"},{image:"assets/white_bishop.png",position:{x:2,y:0},type:"BISHOP",team:"HOME"},{image:"assets/white_queen.png",position:{x:3,y:0},type:"QUEEN",team:"HOME"},{image:"assets/white_king.png",position:{x:4,y:0},type:"KING",team:"HOME"},{image:"assets/white_bishop.png",position:{x:5,y:0},type:"BISHOP",team:"HOME"},{image:"assets/white_knight.png",position:{x:6,y:0},type:"KNIGHT",team:"HOME"},{image:"assets/white_castle.png",position:{x:7,y:0},type:"CASTLE",team:"HOME"},{image:"assets/white_pawn.png",position:{x:0,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:1,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:2,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:3,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:4,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:5,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:6,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:7,y:1},type:"PAWN",team:"HOME"}],O=function(){function e(){Object(l.a)(this,e)}return Object(r.a)(e,[{key:"isTileEmptyOrEnemy",value:function(e,t,i){return!this.isTileOccupied(e,t)||this.isTileOccupiedByOpponent(e,t,i)}},{key:"isTileOccupied",value:function(e,t){return!!t.find((function(t){return g(t.position,{x:e.x,y:e.y})}))||null}},{key:"isTileOccupiedByOpponent",value:function(e,t,i){return!!t.find((function(t){return g(t.position,{x:e.x,y:e.y})&&t.team!=i}))||null}},{key:"isEnPassanrMove",value:function(e,t,i,s,n){var a="HOME"===s?1:-1;if("PAWN"==i&&((t.x-e.x==-1||t.x-e.x==1)&&t.y-e.y==a&&n.find((function(e){return g(e.position,{x:t.x,y:t.y-a})&&e.enPassant}))))return!0;return!1}},{key:"isValidMove",value:function(e,t,i,s,n){var a="HOME"===s?1:6,o="HOME"===s?1:-1;if("PAWN"==i){if(e.x==t.x&&e.y==a&&t.y-e.y==2*o){if(!this.isTileOccupied(t,n)&&!this.isTileOccupied({x:t.x,y:t.y-o},n))return!0}else if(e.x==t.x&&t.y-e.y==o){if(!this.isTileOccupied(t,n))return!0}else if(t.x-e.x==-1&&t.y-e.y==o){if(this.isTileOccupiedByOpponent(t,n,s))return!0}else if(t.x-e.x==1&&t.y-e.y==o&&this.isTileOccupiedByOpponent(t,n,s))return!0}else if("KNIGHT"==i){if(t.x-e.x!=-1&&t.x-e.x!=1||t.y-e.y!=2&&t.y-e.y!=-2){if((t.x-e.x==2||t.x-e.x==-2)&&(t.y-e.y==1||t.y-e.y==-1)&&this.isTileEmptyOrEnemy(t,n,s))return!0}else if(this.isTileEmptyOrEnemy(t,n,s))return!0}else if("BISHOP"==i)for(var p=1;p<8;p++){if(t.x>e.x&&t.y>e.y){var c={x:e.x+p,y:e.y+p};if(this.isTileOccupied(c,n)){console.log("illlegal move");break}}else if(t.x<e.x&&t.y>e.y){var y={x:e.x-p,y:e.y+p};if(this.isTileOccupied(y,n)){console.log("illlegal move");break}}else if(t.x<e.x&&t.y<e.y){var l={x:e.x-p,y:e.y-p};if(this.isTileOccupied(l,n)){console.log("illlegal move");break}}else if(t.x>e.x&&t.y<e.y){var r={x:e.x+p,y:e.y-p};if(this.isTileOccupied(r,n)){console.log("illlegal move");break}}if((t.x-e.x==p||t.x-e.x==-p)&&(t.y-e.y==p||t.y-e.y==-p)&&this.isTileEmptyOrEnemy(t,n,s))return!0}return!1}}]),e}();var h=function(e){for(var t=[],i=Object(s.useState)(f),n=Object(p.a)(i,2),a=n[0],o=n[1],l=Object(s.useState)(null),r=Object(p.a)(l,2),h=r[0],N=r[1],P=Object(s.useRef)(null),b=Object(s.useState)(null),E=Object(p.a)(b,2),v=E[0],T=E[1],d=new O,w=function(e){for(var i=function(i){var s=a.find((function(t){return g(t.position,{x:i,y:e})})),n=s?s.image:void 0;t.push(Object(c.jsx)(y,{number:i+e,image:n},"".concat(u[e]).concat(m[i])))},s=0;s<m.length;s++)i(s)},k=u.length-1;k>=0;k--)w(k);return Object(c.jsx)("div",{className:"chessboard",onMouseDown:function(e){return function(e){var t=e.target,i=P.current;if(e.target.className.includes("chess-piece")){N({x:Math.floor((e.clientX-i.offsetLeft)/x),y:Math.abs(Math.ceil((e.clientY-i.offsetTop-800)/x))});var s=e.clientX-50,n=e.clientY-50;t.style.position="absolute",t.style.left="".concat(s,"px"),t.style.top="".concat(n,"px"),T(t)}}(e)},ref:P,onMouseMove:function(e){return function(e){e.target;var t=P.current;if(v&&v.className.includes("chess-piece")){var i=t.offsetLeft,s=t.offsetTop,n=t.offsetLeft+t.clientWidth-75,a=t.offsetTop+t.clientHeight-75,o=e.pageX-50,p=e.pageY-50;v.style.position="absolute",v.style.left="".concat(o<i?i:o>n?n:o,"px"),v.style.top="".concat(p<s?s:p>a?a:p,"px")}}(e)},onMouseUp:function(e){!function(e){var t=P.current;if(v&&t){var i=Math.floor((e.clientX-t.offsetLeft)/100),s=Math.abs(Math.ceil((e.clientY-t.offsetTop-800)/100)),n=a.find((function(e){return g(e.position,h)})),p="HOME"===n.team?1:-1;if(n){var c=d.isValidMove(h,{x:i,y:s},n.type,n.team,a);if(d.isEnPassanrMove(h,{x:i,y:s},n.type,n.team,a)){var y=a.reduce((function(e,t){return g(t.position,h)?(t.enPassant=!1,t.position.x=i,t.position.y=s,e.push(t)):g(t.position,{x:i,y:s-p})||("PAWN"==t.type&&(t.enPassant=!1),e.push(t)),e}),[]);o(y)}else if(c){var l=a.reduce((function(e,t){return g(t.position,h)?(t.enPassant=2==Math.abs(h.y-s)&&"PAWN"==t.type,t.position.x=i,t.position.y=s,e.push(t)):g(t.position,{x:i,y:s})||("PAWN"==t.type&&(t.enPassant=!1),e.push(t)),e}),[]);o(l)}else v.style.position="relative",v.style.removeProperty("left"),v.style.removeProperty("top")}T(null)}}(e)},children:t})};var N=function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(h,{})})},P=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;i(e),s(e),n(e),a(e),o(e)}))};o.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),P()}],[[16,1,2]]]);
//# sourceMappingURL=main.c802c158.chunk.js.map