(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],[,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),a=i(6),o=i.n(a),p=(i(11),i(12),i(4)),y=(i(13),i(14),i(0));function c(e){return e.number%2==0?Object(y.jsx)("div",{className:"tile black-tile",children:e.image&&Object(y.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")},className:"chess-piece"})}):Object(y.jsx)("div",{className:"tile white-tile",children:e.image&&Object(y.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")},className:"chess-piece"})})}var r=i(2),u=i(3),l=["1","2","3","4","5","6","7","8"],f=["a","b","c","d","e","f","g","h"],x=100;function m(e,t){return e.x===t.x&&e.y===t.y}var O=[{image:"assets/black_castle.png",position:{x:0,y:7},type:"CASTLE",team:"OPPONENT"},{image:"assets/black_knight.png",position:{x:1,y:7},type:"KNIGHT",team:"OPPONENT"},{image:"assets/black_bishop.png",position:{x:2,y:7},type:"BISHOP",team:"OPPONENT"},{image:"assets/black_queen.png",position:{x:3,y:7},type:"QUEEN",team:"OPPONENT"},{image:"assets/black_king.png",position:{x:4,y:7},type:"KING",team:"OPPONENT"},{image:"assets/black_bishop.png",position:{x:5,y:7},type:"BISHOP",team:"OPPONENT"},{image:"assets/black_knight.png",position:{x:6,y:7},type:"KNIGHT",team:"OPPONENT"},{image:"assets/black_castle.png",position:{x:7,y:7},type:"CASTLE",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:0,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:1,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:2,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:3,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:4,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:5,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:6,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/black_pawn.png",position:{x:7,y:6},type:"PAWN",team:"OPPONENT"},{image:"assets/white_castle.png",position:{x:0,y:0},type:"CASTLE",team:"HOME"},{image:"assets/white_knight.png",position:{x:1,y:0},type:"KNIGHT",team:"HOME"},{image:"assets/white_bishop.png",position:{x:2,y:0},type:"BISHOP",team:"HOME"},{image:"assets/white_queen.png",position:{x:3,y:0},type:"QUEEN",team:"HOME"},{image:"assets/white_king.png",position:{x:4,y:0},type:"KING",team:"HOME"},{image:"assets/white_bishop.png",position:{x:5,y:0},type:"BISHOP",team:"HOME"},{image:"assets/white_knight.png",position:{x:6,y:0},type:"KNIGHT",team:"HOME"},{image:"assets/white_castle.png",position:{x:7,y:0},type:"CASTLE",team:"HOME"},{image:"assets/white_pawn.png",position:{x:0,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:1,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:2,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:3,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:4,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:5,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:6,y:1},type:"PAWN",team:"HOME"},{image:"assets/white_pawn.png",position:{x:7,y:1},type:"PAWN",team:"HOME"}],g=function(){function e(){Object(r.a)(this,e)}return Object(u.a)(e,[{key:"isTileEmptyOrEnemy",value:function(e,t,i){return!this.isTileOccupied(e,t)||this.isTileOccupiedByOpponent(e,t,i)}},{key:"isTileOccupied",value:function(e,t){return!!t.find((function(t){return m(t.position,{x:e.x,y:e.y})}))||null}},{key:"isTileOccupiedByOpponent",value:function(e,t,i){return!!t.find((function(t){return m(t.position,{x:e.x,y:e.y})&&t.team!==i}))||null}},{key:"pawnMove",value:function(e,t,i,n){var s="HOME"===i?1:6,a="HOME"===i?1:-1;if(e.x===t.x&&e.y===s&&t.y-e.y===2*a){if(!this.isTileOccupied(t,n)&&!this.isTileOccupied({x:t.x,y:t.y-a},n))return!0}else if(e.x===t.x&&t.y-e.y===a){if(!this.isTileOccupied(t,n))return!0}else if(t.x-e.x===-1&&t.y-e.y===a){if(this.isTileOccupiedByOpponent(t,n,i))return!0}else if(t.x-e.x===1&&t.y-e.y===a&&this.isTileOccupiedByOpponent(t,n,i))return!0;return!1}},{key:"kinghtMove",value:function(e,t,i,n){if(t.x-e.x!==-1&&t.x-e.x!==1||t.y-e.y!==2&&t.y-e.y!==-2){if((t.x-e.x===2||t.x-e.x===-2)&&(t.y-e.y===1||t.y-e.y===-1)&&this.isTileEmptyOrEnemy(t,n,i))return!0}else if(this.isTileEmptyOrEnemy(t,n,i))return!0;return!1}},{key:"bishopMove",value:function(e,t,i,n){for(var s=1;s<8;s++)if(t.x>e.x&&t.y>e.y){var a={x:e.x+s,y:e.y+s};if(m(a,t)){if(this.isTileEmptyOrEnemy(a,n,i))return!0}else if(this.isTileOccupied(a,n))break}else if(t.x<e.x&&t.y>e.y){var o={x:e.x-s,y:e.y+s};if(m(o,t)){if(this.isTileEmptyOrEnemy(o,n,i))return!0}else if(this.isTileOccupied(o,n))break}else if(t.x<e.x&&t.y<e.y){var p={x:e.x-s,y:e.y-s};if(m(p,t)){if(this.isTileEmptyOrEnemy(p,n,i))return!0}else if(this.isTileOccupied(p,n))break}else if(t.x>e.x&&t.y<e.y){var y={x:e.x+s,y:e.y-s};if(m(y,t)){if(this.isTileEmptyOrEnemy(y,n,i))return!0}else if(this.isTileOccupied(y,n))break}return!1}},{key:"kingMove",value:function(e,t,i,n){var s=t.x<e.x?-1:t.x>e.x?1:0,a=t.y<e.y?-1:t.y>e.y?1:0,o={x:e.x+s,y:e.y+a};if(console.log(o),m(o,t)){if(this.isTileEmptyOrEnemy(t,n,i))return!0}else if(this.isTileOccupied(o,n))return!1;return!1}},{key:"queenMove",value:function(e,t,i,n){for(var s=1;s<8;s++){var a=t.x<e.x?-1:t.x>e.x?1:0,o=t.y<e.y?-1:t.y>e.y?1:0,p={x:e.x+s*a,y:e.y+s*o};if(console.log(p),m(p,t)){if(this.isTileEmptyOrEnemy(t,n,i))return!0}else if(this.isTileOccupied(p,n))break}return!1}},{key:"rookMove",value:function(e,t,i,n){if(t.x===e.x)for(var s=1;s<8;s++){var a=t.y>e.y?1:-1,o={x:e.x,y:e.y+s*a};if(m(o,t)){if(this.isTileEmptyOrEnemy(t,n,i))return!0}else if(this.isTileOccupied(o,n))break}if(t.y===e.y)for(var p=1;p<8;p++){var y=t.x>e.x?1:-1,c={x:e.x+p*y,y:e.y};if(m(c,t)){if(this.isTileEmptyOrEnemy(t,n,i))return!0}else if(this.isTileOccupied(c,n))break}return!1}}]),e}(),h=function(){function e(){Object(r.a)(this,e)}return Object(u.a)(e,[{key:"isEnPassanrMove",value:function(e,t,i,n,s){var a="HOME"===n?1:-1;if("PAWN"===i&&((t.x-e.x===-1||t.x-e.x===1)&&t.y-e.y===a&&s.find((function(e){return m(e.position,{x:t.x,y:t.y-a})&&e.enPassant}))))return!0;return!1}},{key:"isValidMove",value:function(e,t,i,n,s){var a=new g,o=!1;switch(i){case"PAWN":o=a.pawnMove(e,t,n,s);break;case"KNIGHT":o=a.kinghtMove(e,t,n,s);break;case"BISHOP":o=a.bishopMove(e,t,n,s);break;case"CASTLE":o=a.rookMove(e,t,n,s);break;case"QUEEN":o=a.queenMove(e,t,n,s);break;case"KING":o=a.kingMove(e,t,n,s)}return o}}]),e}();var E=function(e){for(var t=[],i=Object(n.useState)(O),s=Object(p.a)(i,2),a=s[0],o=s[1],r=Object(n.useState)(null),u=Object(p.a)(r,2),g=u[0],E=u[1],N=Object(n.useRef)(null),v=Object(n.useState)(null),b=Object(p.a)(v,2),P=b[0],T=b[1],k=new h,d=function(e){for(var i=function(i){var n=a.find((function(t){return m(t.position,{x:i,y:e})})),s=n?n.image:void 0;t.push(Object(y.jsx)(c,{number:i+e,image:s},"".concat(l[e]).concat(f[i])))},n=0;n<f.length;n++)i(n)},M=l.length-1;M>=0;M--)d(M);return Object(y.jsx)("div",{className:"chessboard",onMouseDown:function(e){return function(e){var t=e.target,i=N.current;if(e.target.className.includes("chess-piece")){E({x:Math.floor((e.clientX-i.offsetLeft)/x),y:Math.abs(Math.ceil((e.clientY-i.offsetTop-800)/x))});var n=e.clientX-50,s=e.clientY-50;t.style.position="absolute",t.style.left="".concat(n,"px"),t.style.top="".concat(s,"px"),T(t)}}(e)},ref:N,onMouseMove:function(e){return function(e){e.target;var t=N.current;if(P&&P.className.includes("chess-piece")){var i=t.offsetLeft,n=t.offsetTop,s=t.offsetLeft+t.clientWidth-75,a=t.offsetTop+t.clientHeight-75,o=e.pageX-50,p=e.pageY-50;P.style.position="absolute",P.style.left="".concat(o<i?i:o>s?s:o,"px"),P.style.top="".concat(p<n?n:p>a?a:p,"px")}}(e)},onMouseUp:function(e){!function(e){var t=N.current;if(P&&t){var i=Math.floor((e.clientX-t.offsetLeft)/100),n=Math.abs(Math.ceil((e.clientY-t.offsetTop-800)/100)),s=a.find((function(e){return m(e.position,g)})),p="HOME"===s.team?1:-1;if(s){var y=k.isValidMove(g,{x:i,y:n},s.type,s.team,a);if(k.isEnPassanrMove(g,{x:i,y:n},s.type,s.team,a)){var c=a.reduce((function(e,t){return m(t.position,g)?(t.enPassant=!1,t.position.x=i,t.position.y=n,e.push(t)):m(t.position,{x:i,y:n-p})||("PAWN"==t.type&&(t.enPassant=!1),e.push(t)),e}),[]);o(c)}else if(y){var r=a.reduce((function(e,t){return m(t.position,g)?(t.enPassant=2==Math.abs(g.y-n)&&"PAWN"==t.type,t.position.x=i,t.position.y=n,e.push(t)):m(t.position,{x:i,y:n})||("PAWN"==t.type&&(t.enPassant=!1),e.push(t)),e}),[]);o(r)}else P.style.position="relative",P.style.removeProperty("left"),P.style.removeProperty("top")}T(null)}}(e)},children:t})};var N=function(){return Object(y.jsx)("div",{className:"app",children:Object(y.jsx)(E,{})})},v=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;i(e),n(e),s(e),a(e),o(e)}))};o.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(N,{})}),document.getElementById("root")),v()}],[[16,1,2]]]);
//# sourceMappingURL=main.bd128679.chunk.js.map